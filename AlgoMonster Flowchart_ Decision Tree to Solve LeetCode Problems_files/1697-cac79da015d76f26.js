"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1697],{81697:function(t,e,n){n.d(e,{B8:function(){return Z},D4:function(){return N},Jr:function(){return y},M_:function(){return w},NA:function(){return E},SE:function(){return b},SP:function(){return M},X_:function(){return j},fU:function(){return h},lz:function(){return S},p$:function(){return I},xy:function(){return x},zk:function(){return k}});var r=n(47568),a=n(828),u=n(29815),o=n(70655),i=n(41520),c=n(75780),s=n(2478),l=n(9268),d=n(2931),f=n(75736),p=n(67294),v=n(88767),m=function(t){var e=(0,p.useState)(null),n=e[0],r=e[1];return(0,p.useEffect)((function(){r(localStorage.getItem(t))}),[t]),[n,function(e){null!==e?localStorage.setItem(t,e):localStorage.removeItem(t),r(e)}]};function h(){var t=(0,a.Z)(m("zokamqwyx"),2),e=t[0],n=t[1],r=function(){return e?parseInt(e):0};return{hasReachedNotLoggedInLimit:function(){return r()>=3},hasReachedNotPremiumLimit:function(){return r()>=8},incrementAskCount:function(){return n("".concat(r()+1))}}}var g=function(t){var e,n=t.apiPath,a=t.localKey,u=t.dehydrate,s=t.init,l=t.merge,d=t.mutationAlwaysOverride,f=void 0!==d&&d,p=(0,c.aF)(),m=(0,v.useQueryClient)(),h=[n],g=(0,v.useQuery)(h,(0,r.Z)((function(){var t,e,r;return(0,o.__generator)(this,(function(u){switch(u.label){case 0:return t=localStorage.getItem(a),e=s,null!==t&&(e=l(e,JSON.parse(t))),p?[4,(0,i.r)("get",n)]:[3,2];case 1:r=u.sent(),e=l(e,r.data),u.label=2;case 2:return null!==t&&p&&y.mutate(f?e:{operation:"add",data:e,existedData:e}),[2,e]}}))})),{enabled:void 0!==p}),y=(0,v.useMutation)(function(){var t=(0,r.Z)((function(t){var e,r,c,s;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:if(e=f?t:t.data,m.cancelQueries(h),m.setQueryData(h,(function(){return f?t:t.existedData})),r=u(e),!p)return[3,4];o.label=1;case 1:return o.trys.push([1,3,,4]),c={data:r},f||(c.operation=t.operation),[4,(0,i.r)("put",n,c)];case 2:return o.sent(),localStorage.removeItem(a),[2];case 3:return s=o.sent(),console.error("failed to update",s),[3,4];case 4:return localStorage.setItem(a,JSON.stringify(r)),[2]}}))}));return function(e){return t.apply(this,arguments)}}());return{status:g.status,data:null!==(e=g.data)&&void 0!==e?e:s,mutStatus:y.status,mutate:function(t){var e=t;if(!f){var n=t.data,r=t.operation;e={data:n,operation:null!==r&&void 0!==r?r:"override",existedData:t.existedData}}y.mutateAsync(e)}}},y=function(){var t,e=(0,a.Z)(m("activeLang"),2),n=e[0],r=e[1];return[null!==(t=(0,l.Gy)(null!==n&&void 0!==n?n:""))&&void 0!==t?t:l.fc,r]},S=function(t){var e=t.problemId,n=t.lang,a=t.starterCode,u=t.user,c=t.loadSavedCode,s=void 0===c||c,l="".concat(e,"_").concat(n),d=function(t){localStorage.setItem(l,t)},f=(0,p.useState)(a),v=f[0],m=f[1],h=(0,p.useState)(!1),g=h[0],y=h[1],S=function(){var t=(0,r.Z)((function(){return(0,o.__generator)(this,(function(t){return g||!s||(y(!0),i.Z.code(e,n).get().then((function(t){var e=a;t&&(e=t),m(e),d(e),y(!1)})).catch((function(t){y(!1),alert("Failed to load last submitted code"),console.error("failed to load last submitted code",t)}))),[2]}))}));return function(){return t.apply(this,arguments)}}();return(0,p.useEffect)((function(){if(s){var t=localStorage.getItem(l);t?m(t):"testFunction_intro"!==e&&u&&setTimeout((function(){return S()}),1e3)}}),[l,u]),[v,function(t){d(t),m(t)},g,S]},_=["Student","Intern","Jr Engineer 1","Jr Engineer 2","Jr Engineer 3","Intermediate Engineer 1","Intermediate Engineer 2","Senior Engineer 1","Senior Engineer 2","Senior Engineer 3","AlgoMonster"],b=function(t){var e,n,a,i=g({apiPath:"progress",localKey:"completed",dehydrate:function(t){return t},init:[],merge:function(t,e){return(0,u.Z)(t).concat((0,u.Z)(e))}}),c=i.status,s=i.data,l=i.mutStatus,f=i.mutate,p=new Set(s),v=function(){var t=(0,r.Z)((function(t,e){var n,r;return(0,o.__generator)(this,(function(a){switch(a.label){case 0:return n=e?"add":"remove",r=e?(0,u.Z)(s).concat([t]):s.filter((function(e){return e!==t})),[4,f({data:[t],operation:n,existedData:r})];case 1:return a.sent(),[2]}}))}));return function(e,n){return t.apply(this,arguments)}}(),m=function(){var t=(0,r.Z)((function(){return(0,o.__generator)(this,(function(t){switch(t.label){case 0:return[4,f({data:[],operation:"override",existedData:[]})];case 1:return t.sent(),[2]}}))}));return function(){return t.apply(this,arguments)}}(),h=["oop_design","system_design","leetcode","online-assessment"],y=t.filter((function(t){return!h.includes(t.id)})).slice().sort((function(t,e){return t.title.localeCompare(e.title)})).map((function(t){var e=t.id,n=t.title,r=t.subpatterns.flatMap((function(t){return t.articles})),a=r.length,u=r.filter((function(t){return p.has(t.id)})).length,o=u/a,i=r[0].id;return(0,d.Zl)({id:e,title:n,total:a,completed:u,percent:o,intro_article_id:i,color:"#2F0094"})})),S=y.reduce((function(t,e){return t+e.completed}),0),b=y.reduce((function(t,e){return t+e.total}),0),Z=_.length-1,w=(e=S,Math.floor(e*Z/b)),x=_[w],I=null!==(n=_[w+1])&&void 0!==n?n:null,M=w>=Z?null:(a=w+1,Math.ceil(a*b/Z)-S),k=Math.floor(100*S/b);return{status:c,isCompleted:function(t){return p.has(t)},mutStatus:l,setCompleted:v,reset:m,patterns:y,completed:S,total:b,curLevel:x,nextLevel:I,levelupExp:M,percent:k}},Z=function(){var t=g({apiPath:"article-favorite",localKey:"favoriteArticles",dehydrate:function(t){return t},init:[],merge:function(t,e){return(0,u.Z)(e).concat((0,u.Z)(Array.from(t)))}}),e=t.status,n=t.data,a=t.mutStatus,i=t.mutate,c=function(){var t=(0,r.Z)((function(t,e){var r,a;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return r=e?"add":"remove",a=(0,u.Z)(n),e?a.push(t):a=a.filter((function(e){return e!==t})),[4,i({data:[t],operation:r,existedData:a})];case 1:return o.sent(),[2]}}))}));return function(e,n){return t.apply(this,arguments)}}(),s=function(){var t=(0,r.Z)((function(t){return(0,o.__generator)(this,(function(e){switch(e.label){case 0:return[4,c(t,!0)];case 1:return[2,e.sent()]}}))}));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=(0,r.Z)((function(t){return(0,o.__generator)(this,(function(e){switch(e.label){case 0:return[4,c(t,!1)];case 1:return[2,e.sent()]}}))}));return function(e){return t.apply(this,arguments)}}();return{status:e,isFavorite:function(t){return n.includes(t)},favorite:s,unfavorite:l,mutStatus:a,getFavoriteArticleIds:function(){return(0,u.Z)(n)}}},w=function(){var t=g({apiPath:"dp-list-checklist",localKey:"checkedItems",dehydrate:function(t){return Array.from(t)},init:new Set,merge:function(t,e){return new Set((0,u.Z)(Array.from(t)).concat((0,u.Z)(e)))}}),e=t.status,n=t.data,a=t.mutStatus,i=t.mutate,c=function(){var t=(0,r.Z)((function(t,e){var r,a;return(0,o.__generator)(this,(function(u){return r=e?"add":"remove",a=new Set(n),e?a.add(t):a.delete(t),i({data:new Set([t]),operation:r,existedData:a}),[2]}))}));return function(e,n){return t.apply(this,arguments)}}(),s=function(){var t=(0,r.Z)((function(t){return(0,o.__generator)(this,(function(e){switch(e.label){case 0:return[4,c(t,!0)];case 1:return[2,e.sent()]}}))}));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=(0,r.Z)((function(t){return(0,o.__generator)(this,(function(e){switch(e.label){case 0:return[4,c(t,!1)];case 1:return[2,e.sent()]}}))}));return function(e){return t.apply(this,arguments)}}();return{status:e,isChecked:function(t){return n.has(t)},check:s,uncheck:l,mutStatus:a}},x=function(){var t=g({apiPath:"evaluator-completed",localKey:"evaluatorCompleted",dehydrate:function(t){return t},init:!1,merge:function(t,e){return t||e},mutationAlwaysOverride:!0}),e=t.status,n=t.data;return{status:e,completed:n,setCompleted:t.mutate,todo:"success"===e&&!n}},I=function(){var t=g({apiPath:"referral-info",localKey:"referralInfo",dehydrate:function(t){return t},init:void 0,merge:function(t,e){return t||e},mutationAlwaysOverride:!0}),e=t.status,n=t.data;return{status:e,setReferral:t.mutate,referralCode:"success"!==e?void 0:n&&n.expire>Date.now()?n.refCode:null}},M=function(t){var e,n=g({apiPath:"notification-badge",localKey:"notificationBadge",dehydrate:function(t){return t},init:[],merge:function(t,e){return(0,u.Z)(e).concat((0,u.Z)(Array.from(t)))}}),a=n.status,i=n.data,c=n.mutStatus,s=n.mutate,l=function(){var t=(0,r.Z)((function(t,e){var n,r;return(0,o.__generator)(this,(function(a){switch(a.label){case 0:return n=e?"add":"remove",r=(0,u.Z)(i),e?r.push(t):r=r.filter((function(e){return e!==t})),[4,s({data:[t],operation:n,existedData:r})];case 1:return a.sent(),[2]}}))}));return function(e,n){return t.apply(this,arguments)}}(),d=function(){var e=(0,r.Z)((function(){return(0,o.__generator)(this,(function(e){switch(e.label){case 0:return[4,l(t,!0)];case 1:return[2,e.sent()]}}))}));return function(){return e.apply(this,arguments)}}();return{show:("success"===a||"success"===c)&&(e=t,!i.includes(e)),view:d}};function k(){var t=(0,a.Z)(function(t,e){var n=(0,p.useState)(null),r=n[0],a=n[1];return(0,p.useEffect)((function(){localStorage.getItem("".concat(t,"_version"))!==e?(localStorage.removeItem(t),localStorage.setItem("".concat(t,"_version"),e)):a(localStorage.getItem(t))}),[t,e]),[r,function(n){null!==n?(localStorage.setItem(t,n),localStorage.setItem("".concat(t,"_version"),e)):(localStorage.removeItem(t),localStorage.removeItem("".concat(t,"_version"))),a(n)}]}("evaluatorUserAnswersWithQuestion","2.6.7"),2),e=t[0],n=t[1],r=(0,p.useState)(e?JSON.parse(e):[]),u=r[0],o=r[1];(0,p.useEffect)((function(){e&&o(JSON.parse(e))}),[e]);return[u,function(t){n(JSON.stringify(t)),o(t)}]}var E=function(){var t,e,n,a,u=(0,c.aF)(),s=(0,v.useQuery)("practice-progress",(0,r.Z)((function(){var t;return(0,o.__generator)(this,(function(e){switch(e.label){case 0:return[4,i.Z.practiceProgress.get()];case 1:return t=e.sent(),[2,{inProgress:new Set(t.data.inProgress),completed:new Set(t.data.completed)}]}}))})),{enabled:!!u}),l=(0,v.useMutation)(function(){var t=(0,r.Z)((function(t){var e,n;return(0,o.__generator)(this,(function(r){switch(r.label){case 0:return e=t.data,n=t.operation,[4,i.Z.practiceProgress.post({data:e,operation:n})];case 1:return r.sent(),s.refetch(),[2]}}))}));return function(e){return t.apply(this,arguments)}}());return{status:s.status,inProgress:null!==(n=null===(t=s.data)||void 0===t?void 0:t.inProgress)&&void 0!==n?n:new Set,completed:null!==(a=null===(e=s.data)||void 0===e?void 0:e.completed)&&void 0!==a?a:new Set,mutStatus:l.status,setPracticeProgress:l.mutateAsync}},N=function(t){var e="modalStatus_".concat(t),n=(0,p.useState)(null),a=n[0],u=n[1],s=(0,c.aF)();(0,p.useEffect)((function(){if(void 0!==s){var n=localStorage.getItem(e),r=null!==n?"true"===n:null!==s&&null;u(r),!r&&s&&i.Z.modalStatus(t).get().then((function(t){u(t)}))}}),[s]);var l=function(){var n=(0,r.Z)((function(){return(0,o.__generator)(this,(function(n){switch(n.label){case 0:return u(!0),localStorage.setItem(e,"true"),s?[4,i.Z.modalStatus(t).post(t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}));return function(){return n.apply(this,arguments)}}();return{hasSeen:a,markSeen:l}},j=function(t){var e=(0,p.useState)(!1),n=e[0],r=e[1],a=(0,c.bb)(),u=(0,f.I5)(a);(0,p.useEffect)((function(){r(!0)}),[]);var o,l,d=(0,v.useQuery)({queryKey:["contentAccessRecord"],queryFn:function(){return i.Z.contentAccessRecord.get()},enabled:!!a&&!u}),m=d.data,h=d.isFetching,g=d.refetch,y=null!==(o=null===m||void 0===m?void 0:m.length)&&void 0!==o?o:0,S=(0,v.useMutation)({mutationFn:function(t){return i.Z.contentAccessRecord.post({contentId:t})},onSuccess:function(){g()}}),_=S.mutate,b=S.isLoading,Z=y<s.uF,w=(0,p.useState)(!1),x=w[0],I=w[1];return{accessCount:y,hasQuota:Z,isAccessible:!!(!n||t<s.CP||u)||null!==(l=null===m||void 0===m?void 0:m.includes("".concat(t)))&&void 0!==l&&l,record:function(t){return!(!a||u||!Z)&&(_(t),I(!0),!0)},isLoading:h||b,unlockedWithRecordFunc:x}}},9268:function(t,e,n){n.d(e,{Gy:function(){return o},RI:function(){return a},fc:function(){return c},ih:function(){return u},mc:function(){return i}});var r=n(2931),a=["python","java","csharp","javascript","typescript","cpp","rust","go","ruby","racket","haskell"];var u={python:{displayName:"Python",codeMirrorMode:"python",hljsLang:"python",completed:!0},java:{displayName:"Java",codeMirrorMode:"text/x-java",hljsLang:"java",completed:!0},csharp:{displayName:"C#",codeMirrorMode:"text/x-csharp",hljsLang:"csharp",completed:!0},javascript:{displayName:"JavaScript",codeMirrorMode:"javascript",hljsLang:"javascript",completed:!0},typescript:{displayName:"TypeScript",codeMirrorMode:"javascript",hljsLang:"typescript",completed:!0},cpp:{displayName:"C++",codeMirrorMode:"text/x-c++src",hljsLang:"cpp",completed:!0},rust:{displayName:"Rust",codeMirrorMode:"rust",hljsLang:"rust",completed:!1},go:{displayName:"Go",codeMirrorMode:"text/x-go",hljsLang:"go",completed:!1},ruby:{displayName:"Ruby",codeMirrorMode:"text/x-ruby",hljsLang:"ruby",completed:!1},racket:{displayName:"Racket",codeMirrorMode:"text/x-scheme",hljsLang:"scheme",completed:!1},haskell:{displayName:"Haskell",codeMirrorMode:"text/x-haskell",hljsLang:"haskell",completed:!1}},o=function(t){return(0,r.wl)(t,u)?t:null},i=function(t){var e=o(t);if(null===e)throw new Error("unknown language ".concat(e));return e},c="python"},75736:function(t,e,n){n.d(e,{Cr:function(){return c},I5:function(){return u},KS:function(){return r},ZQ:function(){return o},xC:function(){return a},z2:function(){return i}});var r=function(){var t,e,n,r,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{paid:null!==(t=a.paid)&&void 0!==t&&t,subscribed:null!==(e=a.subscribed)&&void 0!==e&&e,admin:null!==(n=a.admin)&&void 0!==n&&n,subExpireTime:null!==(r=a.subExpireTime)&&void 0!==r?r:0}},a=function(t){return!!t&&t>(new Date).getTime()},u=function(t){var e;return null!==(e=(null===t||void 0===t?void 0:t.paid)||a(null===t||void 0===t?void 0:t.subExpireTime))&&void 0!==e&&e},o=function(t){return!u(t)},i=function(t,e){switch(e){case"open":return!0;case"login":return!!t;case"paid":return u(t)}},c=function(t){return!!t}}}]);